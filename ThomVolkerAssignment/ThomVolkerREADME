READ ME FILE ASSIGNMENT BAYES THOM VOLKER

IN THE CORRESPONDING FOLDER, THE DATA, THIS README FILE, THE REPORT AND THE CODE USED TO ANALYZE THE DATA CAN BE FOUND. THE PDF CONTAINS REPORT AND THIS READ ME FILE CONSISTS OF THE STEPS THAT MUST BE FOLLOWED TO OBTAIN THE RESULTS, ALTHOUGH THIS IS PRETTY STRAIGHTFORWARD, AND SIMPLY RUNNING ALL OF THE CODE GIVES YOU ALL OF THE REQUIRED RESULTS. HOWEVER, MAKE SURE THAT THE REQUIRED PACKAGES ARE INSTALLED (AND LOADED, BUT THIS IS DONE IN THE CODE ITSELF).

To obtain the results of the analyses, only all steps in the attached R script have to be run. Except from prior specifications that are not used, and initial values that or not used (lines 354-368), but are displayed merely for the sake of illustrative purposes, there is no excessive code in the the file. 

First, it is required to load the data, which is attached in the zip file under the name "activities.csv" and contains all data. In the report it is mentioned that first, only the activities before the seventh of april 2020 are used in the initial analyses. Later on, the other rows/observations are used as well, to display Bayesian Updating. Then, some data handling have to be performed (lines 11-35), before it is possible to use the data in the analyses. Only the relevant variables are selected, and for the sake of convergence, the independent variables are centered. 

On line 41, you find the function that performs the Gibbs sampling procedure from A to Z. It outputs the parameter estimates, confidence intervals, posterior samples, the DIC and the convergence plot. Running the corresponding line of codes, will give you this function. After the Gibbs sampling function, a print function is displayed (line 328), which will make sure that the output gets printed in a nicely organized way. Then, for illustrative purposes, initial values and prior information are specified (lines 354-368; but initial values are drawn automatically if they are not specified, and an uninformative prior can be specified by means of text (so this is only of use when one wants to use informative priors)). 

For the Metropolis-Hastings steps, a proposal density (line 373) and the conditional density (lines 380-382) are specified, and passed through the function. Then the three initial analyses which are mentioned in the article are performed (lines 387-403). The only differences between the functions, are in the formula (and since the M-H sampled parameter is excluded later on, this step is not necessary anymore, so it is removed as well). In the second formula, "distance" is removed, and in the third formula, "number of activities"" is removed as well. 

Then, on line 415, a Bayes Factor function is displayed. In this function, the GibbsOut output can be passed, with the hypotheses of interest and the number of iterations to perform, and eventually, the number of constraints used in estimation of the minimal training sample variance (increasing this number will reduce the prior variance, decreasing will increase the prior variance) and the region of equivalence that is used in case of equality constraints. Note that this term is specified in terms of standard deviations of the parameters. If one wants to specify a scale-independent region of equivalence, it can be specified in character format: "1 + 0".

To use the Bayes Factor function, the data must be standardized to meaningfully compare the regression coefficients. Then, the first performed analysis is performed once again, but then without the Metropolis-Hastings step (because it did not add very much to the analysis; lines 499-501). Then, the hypotheses of interest are specified and the Bayes Factors are calculated (lines 503-508). Then, to compute the posterior model probabilities, a new hypothesis set is specified including an unconstrained hypothesis, and the corresponding Bayes Factors are calculated (lines 510-514). 

Then, the posterior predictive p-values are calculated manually (line 528-545). First, the independent variables, and the outcome variable are extracted, a seed is set for reproducibility. First, residuals are simulated to compare to the observed residuals. Then, for each set of simulated residuals, the skewness is computed, and compared to the skewness of the observed residuals. The mean hereof is the posterior predictive p-value. The same is done with correlations, but then it concerns the correlations between the sorted simulated residuals and the corresponding theoretical quantiles of the standard normal distribution. 

Then, the final step is to use all of the data in the analysis which represents the possibility of Bayesian updating. That is, collecting more data to analyze the complete dataset as a whole. First (line 565), the "newly gathered" data is analyzed, and thereafter, the dataset as a whole is analyzed